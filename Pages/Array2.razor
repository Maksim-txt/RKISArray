@page "/array2"

<PageTitle>Вывод одномерного массива</PageTitle>

<div class="parent">
    <div class="array_input">
        <p>n - число элементов массива <input type="number" @bind-value="Size" /></p>

        <button @onclick="CreateArray">Создать массив</button>

        @if (array != null && array.Length >= 1 && index < array.Length)
        {
            <p>Введи элемент массива (array[@index]): <input type="number" @bind-value="array[index]" /></p>

            <button @onclick="IncrementIndex">Ввести элемент</button>
        }
    </div>

    @if (array != null && array.Length >= 1)
    {
        <div class="array_output">
            <textarea type="textarea" class="textarea" readonly="true">
                @if (array != null && array.Length >= 1)
                {
                    @for (int i = 0; i < array.Length; i++)
                    {
                        @array[i]; @IHateWhiteSpace2
                    }
                }
            </textarea>

            <div class="checkbox">
                @if (array != null && array.Length >= 1)
                {
                    @for (int i = 0; i < array.Length; i++)
                    {
                        <input type="checkbox" id="array-@i" value="@array[i]" />
                        <label for="array-@i">@array[i]</label>

                        <br>
                    }
                }
            </div>

            <select class="select">
                @if (array != null && array.Length >= 1)
                {
                    @for (int i = 0; i < array.Length; i++)
                    {
                        <option>@array[i]</option>
                    }
                }
            </select>
        </div>
    }
</div>

@code {

    string IHateWhiteSpace = " ";
    string IHateWhiteSpace2 = "\n";

    private static int _size;
    public int Size
    {
        get => _size;
        set
        {
            _size = value;
        }
    }

    private int index = 0;

    private int[]? array;

    private void CreateArray()
    {
        array = new int[Size];
    }


    private void IncrementIndex()
    {
        if (index < array.Length - 1)
        {
            index++;
        }
    }

}